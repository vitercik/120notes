
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>1. Probability and counting &#8212; MS&amp;E 120 Course Reader</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapter1';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="2. Conditional probability" href="chapter2.html" />
    <link rel="prev" title="Stanford MS&amp;E 120: Intro to Probability" href="intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
  
    <p class="title logo__title">MS&E 120 Course Reader</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Stanford MS&E 120: Intro to Probability
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">1. Probability and counting</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter2.html">2. Conditional probability</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter3.html">3. Random variables and their distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter4.html">4. Expectation</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter5.html">5. Continuous random variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter6.html">6. Joint distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter7.html">7. Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter8.html">8. Conditional expectation</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">9. Bibliography</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fchapter1.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/chapter1.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Probability and counting</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sets">1.1. Sets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-spaces-and-events">1.2. Sample spaces and events</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-naive-definition-of-probability">1.3. A naive definition of probability</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#counting">1.4. Counting</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#multiplication-rule">1.4.1. Multiplication rule</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adjusting-for-overcounting">1.4.2. Adjusting for overcounting</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#non-naive-definition-of-probability">1.5. Non-naive definition of probability</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="probability-and-counting">
<h1><span class="section-number">1. </span>Probability and counting<a class="headerlink" href="#probability-and-counting" title="Link to this heading">#</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#sets" id="id5">Sets</a></p></li>
<li><p><a class="reference internal" href="#sample-spaces-and-events" id="id6">Sample spaces and events</a></p></li>
<li><p><a class="reference internal" href="#a-naive-definition-of-probability" id="id7">A naive definition of probability</a></p></li>
<li><p><a class="reference internal" href="#counting" id="id8">Counting</a></p>
<ul>
<li><p><a class="reference internal" href="#multiplication-rule" id="id9">Multiplication rule</a></p></li>
<li><p><a class="reference internal" href="#adjusting-for-overcounting" id="id10">Adjusting for overcounting</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#non-naive-definition-of-probability" id="id11">Non-naive definition of probability</a></p></li>
</ul>
</nav>
<section id="sets">
<h2><a class="toc-backref" href="#id5" role="doc-backlink"><span class="section-number">1.1. </span>Sets</a><a class="headerlink" href="#sets" title="Link to this heading">#</a></h2>
<p>In probability, the primary goal is to determine how likely a specific <strong>set</strong> of outcomes is, given a particular experiment. In this section, we’ll focus on understanding the concept of <em>sets</em>, which form the foundation of probability theory.</p>
<p>A <em>set</em> is a collection of objects or elements. For example, the set <span class="math notranslate nohighlight">\(\{1, 3, 5, 7\}\)</span> contains four numbers, while the outcomes from flipping a coin twice form the set <span class="math notranslate nohighlight">\(\{HH, HT, TH, TT\}\)</span> (where <span class="math notranslate nohighlight">\(H\)</span> stands for Heads and <span class="math notranslate nohighlight">\(T\)</span> stands for Tails). There’s also the empty set, denoted <span class="math notranslate nohighlight">\(∅\)</span>, which contains no elements.</p>
<p><strong>Subsets.</strong> If every element in the set <span class="math notranslate nohighlight">\(A\)</span> is also in the set <span class="math notranslate nohighlight">\(B\)</span>, then <span class="math notranslate nohighlight">\(A\)</span> is called a <em>subset</em> of <span class="math notranslate nohighlight">\(B\)</span>, represented as <span class="math notranslate nohighlight">\(A \subseteq B\)</span>. For example, <span class="math notranslate nohighlight">\(\{HH, HT\} \subseteq \{HH, HT, TH, TT\}\)</span>.</p>
<p><strong>Elements of sets.</strong> When we use the notation <span class="math notranslate nohighlight">\(a \in A\)</span>, it means that <span class="math notranslate nohighlight">\(a\)</span> is an element of set <span class="math notranslate nohighlight">\(A\)</span>. Meanwhile, the notation <span class="math notranslate nohighlight">\(a \notin A\)</span> means that <span class="math notranslate nohighlight">\(a\)</span> is not an element of <span class="math notranslate nohighlight">\(A\)</span>.   For example, <span class="math notranslate nohighlight">\(1 \in \{1, 3, 5, 7\}\)</span>, but <span class="math notranslate nohighlight">\(2 \notin \{1, 3, 5, 7\}\)</span>.</p>
<p><strong>Unions and intersections.</strong> Key operations involving sets include the <em>union</em> and <em>intersection</em>. The <em>union</em> of two sets, denoted <span class="math notranslate nohighlight">\(A \cup B\)</span>, is the set of elements that are in either <span class="math notranslate nohighlight">\(A\)</span> or <span class="math notranslate nohighlight">\(B\)</span>, or both. See <a class="reference internal" href="#union"><span class="std std-numref">Figure 1.1</span></a> for an illustration.</p>
<figure class="align-center" id="union">
<a class="reference internal image-reference" href="_images/union.png"><img alt="_images/union.png" src="_images/union.png" style="width: 200px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.1 </span><span class="caption-text">Union <span class="math notranslate nohighlight">\(A\cup B\)</span></span><a class="headerlink" href="#union" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>The <em>intersection</em>, <span class="math notranslate nohighlight">\(A \cap B\)</span>, contains the elements that are in both sets, as in <a class="reference internal" href="#intersection"><span class="std std-numref">Figure 1.2</span></a>.</p>
<figure class="align-center" id="intersection">
<a class="reference internal image-reference" href="_images/intersection.png"><img alt="_images/intersection.png" src="_images/intersection.png" style="width: 200px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.2 </span><span class="caption-text">Intersection <span class="math notranslate nohighlight">\(A \cap B\)</span></span><a class="headerlink" href="#intersection" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>If two sets share no elements, they are called <em>disjoint</em>, meaning <span class="math notranslate nohighlight">\(A \cap B = \emptyset\)</span>, as in <a class="reference internal" href="#disjoint"><span class="std std-numref">Figure 1.3</span></a>.</p>
<figure class="align-center" id="disjoint">
<a class="reference internal image-reference" href="_images/disjoint.png"><img alt="_images/disjoint.png" src="_images/disjoint.png" style="width: 200px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.3 </span><span class="caption-text">Disjoint sets</span><a class="headerlink" href="#disjoint" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Complements.</strong> Often, we work with sets that are part of a larger set, called a <em>sample space</em>. The <em>complement</em> of a set <span class="math notranslate nohighlight">\(A\)</span>, denoted <span class="math notranslate nohighlight">\(A^c\)</span>, consists of elements in the sample space that are not in <span class="math notranslate nohighlight">\(A\)</span>, as illustrated in <a class="reference internal" href="#complement"><span class="std std-numref">Figure 1.4</span></a>.</p>
<figure class="align-center" id="complement">
<a class="reference internal image-reference" href="_images/complement.png"><img alt="_images/complement.png" src="_images/complement.png" style="width: 200px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.4 </span><span class="caption-text">Complement <span class="math notranslate nohighlight">\(A^c\)</span></span><a class="headerlink" href="#complement" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Cardinality.</strong> The final definition we’ll cover in this section is the <em>cardinality</em> of a set, which is the number of elements in the set, denoted <span class="math notranslate nohighlight">\(|A|\)</span>.   For example, if <span class="math notranslate nohighlight">\(A = \{1, 3, 5, 7\}\)</span>, then <span class="math notranslate nohighlight">\(|A| = 4\)</span>.</p>
</section>
<section id="sample-spaces-and-events">
<h2><a class="toc-backref" href="#id6" role="doc-backlink"><span class="section-number">1.2. </span>Sample spaces and events</a><a class="headerlink" href="#sample-spaces-and-events" title="Link to this heading">#</a></h2>
<p>The <em>sample space</em> of an experiment, typically denoted as <span class="math notranslate nohighlight">\(S\)</span>, is the set of all possible outcomes of that experiment. For instance, if our experiment involves flipping two coins, the sample space is <span class="math notranslate nohighlight">\(\{HH, HT, TH, TT\}\)</span>. An <em>event</em> is a subset of the sample space. For example, the event that exactly one coin lands Heads is represented by the subset <span class="math notranslate nohighlight">\(\{HT, TH\}\)</span>.</p>
<div class="tip admonition">
<p class="admonition-title">Example: Deck of cards</p>
<p>This is Example 1.2.3 by <span id="id1">[<a class="reference internal" href="bibliography.html#id2" title="Joseph K Blitzstein and Jessica Hwang. Introduction to probability. Chapman and Hall/CRC, 2019.">BH19</a>]</span>.</p>
<p>Suppose we have a standard deck of 52 cards, and our experiment is drawing a single card. In this case, the sample space <span class="math notranslate nohighlight">\(S\)</span> is the set of all 52 cards. We can define many events based on this experiment. For example:</p>
<ul class="simple">
<li><p>Let <span class="math notranslate nohighlight">\(A\)</span> be the event that the card drawn is an ace. In other words,<br />
<span class="math notranslate nohighlight">\(A = \{\text{Ace of Diamonds, Ace of Clubs, Ace of Hearts, Ace of Spades}\}\)</span>, and <span class="math notranslate nohighlight">\(|A| = 4\)</span>.</p></li>
<li><p>Let <span class="math notranslate nohighlight">\(B\)</span> be the event that the card drawn has a black suit (i.e., clubs or spades).</p></li>
<li><p>Let <span class="math notranslate nohighlight">\(C\)</span> be the event that the card drawn is a diamond.</p></li>
<li><p>Let <span class="math notranslate nohighlight">\(D\)</span> be the event that the card drawn is a heart.</p></li>
</ul>
<p>We can also define intersections and unions of events. For example:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(A \cap D\)</span> is the event that the card is the Ace of Hearts.</p></li>
<li><p><span class="math notranslate nohighlight">\(A \cap B\)</span> is the event that the card is either the Ace of Spades or the Ace of Clubs.</p></li>
<li><p><span class="math notranslate nohighlight">\(A \cup C \cup D\)</span> is the event that the card is either red (i.e., it is a diamond or heart) or an ace.</p></li>
<li><p>Finally, <span class="math notranslate nohighlight">\((A \cup B)^c = A^c \cap B^c\)</span> is the event that the card is a red non-ace.</p></li>
</ul>
</div>
<div class="tip admonition">
<p class="admonition-title">Example: Soccer</p>
<p>Suppose our experiment is a soccer match where Arsenal plays Liverpool. In this case, the sample space <span class="math notranslate nohighlight">\(S = \{\text{Arsenal wins, Liverpool wins, draw}\}\)</span> is the set of possible outcomes. We could define the event <span class="math notranslate nohighlight">\(A\)</span> to capture the scenario where Arsenal doesn’t win, i.e., <span class="math notranslate nohighlight">\(A = \{\text{Liverpool wins, draw}\}\)</span>.</p>
</div>
<div class="tip admonition">
<p class="admonition-title">Example: Stocks</p>
<p>We can also view a stock’s performance over time as an experiment. For example, suppose we track its price over the course of a month. A simple example of a sample space for this experiment would be <span class="math notranslate nohighlight">\(S = \{\text{price goes up, price goes down, price stays the same}\}\)</span>. We could define the event <span class="math notranslate nohighlight">\(A\)</span> to capture the scenario where the stock price doesn’t go up, i.e., <span class="math notranslate nohighlight">\(A = \{\text{price goes down, price stays the same}\}\)</span>.</p>
</div>
</section>
<section id="a-naive-definition-of-probability">
<h2><a class="toc-backref" href="#id7" role="doc-backlink"><span class="section-number">1.3. </span>A naive definition of probability</a><a class="headerlink" href="#a-naive-definition-of-probability" title="Link to this heading">#</a></h2>
<p>As described at the beginning, the primary goal in probability is to determine how likely a specific set of outcomes is, given a particular experiment. Given an event <span class="math notranslate nohighlight">\(A\)</span> (such as Arsenal not winning a match or a stock price not rising), our goal will be to determine how likely that event is to occur. We will refer to this likelihood as the <em>probability of the event <span class="math notranslate nohighlight">\(A\)</span></em>.</p>
<p>In this section, we will begin with a very basic, naive method for calculating the probability of the event <span class="math notranslate nohighlight">\(A\)</span>, which we will denote as <span class="math notranslate nohighlight">\(\mathbb{P}_{\text{naive}}[A]\)</span>. This method is only to build intuition. Later in this chapter, with this intuition, we will be ready to move on to the actual, non-naive definition of probability.</p>
<p>The first method you might try to calculate the likelihood of an event <span class="math notranslate nohighlight">\(A\)</span> is to count the number of outcomes where that event happens—which we will call the number of “favorable” outcomes—and divide it by the total number of possible outcomes. Since <span class="math notranslate nohighlight">\(A\)</span> is a set of outcomes, we know that the number of favorable outcomes is <span class="math notranslate nohighlight">\(|A|\)</span> and the number of possible outcomes is the size of the sample space <span class="math notranslate nohighlight">\(|S|\)</span>. In other words,</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
\mathbb{P}_{\text{naive}}[A] = \frac{\# \text{favorable outcomes}}{\# \text{possible outcomes}} = \frac{|A|}{|S|}.
\end{equation*}\]</div>
<p>For example, suppose we flip two coins, and <span class="math notranslate nohighlight">\(A = \{HT, TH\}\)</span> is the event that exactly one Head appears. Then</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
\mathbb{P}_{\text{naive}}[A] = \frac{|A|}{|S|} = \frac{2}{4}.
\end{equation*}\]</div>
<p>Intuitively, this makes sense!</p>
<p>Similarly, suppose we pick a card from a standard deck. Let <span class="math notranslate nohighlight">\(A\)</span> be the event that we draw the Ace of Spades or the Ace of Clubs. Then</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
\mathbb{P}_{\text{naive}}[A] = \frac{|A|}{|S|} = \frac{2}{52}.
\end{equation*}\]</div>
<p>Remember that the complement of <span class="math notranslate nohighlight">\(A\)</span>, denoted <span class="math notranslate nohighlight">\(A^c\)</span>, consists of the elements in the sample space that are not in <span class="math notranslate nohighlight">\(A\)</span>. Therefore, the probability that event <span class="math notranslate nohighlight">\(A\)</span> does not happen is <span class="math notranslate nohighlight">\(\mathbb{P}_{\text{naive}}[A^c]\)</span>, which we can calculate as:</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
\mathbb{P}_{\text{naive}}[A^c] = \frac{|A^c|}{|S|} = \frac{|S| - |A|}{|S|} = 1 - \mathbb{P}_{\text{naive}}[A].
\end{equation*}\]</div>
<p>This naive approach to probability assumes that all outcomes are equally likely and that the number of possible outcomes is finite. However, in many cases, such as predicting the outcome of a soccer match, not all outcomes are equally likely (e.g., Arsenal winning versus Liverpool winning). Therefore, we will require a more sophisticated approach to calculating probabilities, which we will introduce later in this chapter.</p>
</section>
<section id="counting">
<h2><a class="toc-backref" href="#id8" role="doc-backlink"><span class="section-number">1.4. </span>Counting</a><a class="headerlink" href="#counting" title="Link to this heading">#</a></h2>
<p>To use the naive definition of probability introduced above, we need to be able to count the number of favorable outcomes of an experiment <span class="math notranslate nohighlight">\(|A|\)</span>, as well as the total number of possible outcomes <span class="math notranslate nohighlight">\(|S|\)</span>. This is straightforward in the examples we’ve seen so far, but it becomes challenging for complex experiments. In this section, we will develop tools for calculating the sizes of sets.</p>
<section id="multiplication-rule">
<h3><a class="toc-backref" href="#id9" role="doc-backlink"><span class="section-number">1.4.1. </span>Multiplication rule</a><a class="headerlink" href="#multiplication-rule" title="Link to this heading">#</a></h3>
<p>We will begin with the simple <em>multiplication rule</em>. Suppose we run an experiment with two parts, <span class="math notranslate nohighlight">\(C\)</span> and <span class="math notranslate nohighlight">\(D\)</span>. Suppose <span class="math notranslate nohighlight">\(C\)</span> has <span class="math notranslate nohighlight">\(c\)</span> possible outcomes, and for each possible outcome of <span class="math notranslate nohighlight">\(C\)</span>, there are <span class="math notranslate nohighlight">\(d\)</span> possible outcomes of <span class="math notranslate nohighlight">\(D\)</span>. The multiplication rule tells us that this experiment has a total of <span class="math notranslate nohighlight">\(c \cdot d\)</span> outcomes.</p>
<div class="tip admonition">
<p class="admonition-title">Example: Running a race</p>
<p>Suppose Alice, Bob, Claire, and David are running a race. Our “experiment” is determining who will win first and second place. Thus, the outcome of this experiment has two parts: the first-place winner and the second-place winner. There are four possibilities for the first-place winner, and once that outcome is determined, there are three possibilities for the second-place winner (for example, if Alice wins first place, then Bob, Claire, or David could win second place). Therefore, this experiment’s total number of outcomes (again, determining who wins first and second place) is <span class="math notranslate nohighlight">\(4 \cdot 3 = 12\)</span>.</p>
<p>These outcomes can be visualized with the tree diagram in <a class="reference internal" href="#race"><span class="std std-numref">Figure 1.5</span></a>, where the first level indicates possible first-place winners, and the second level indicates possible second-place winners. The tree has a total of 12 leaves, corresponding to the 12 possible outcomes of the experiment.</p>
</div>
<figure class="align-center" id="race">
<a class="reference internal image-reference" href="_images/race.png"><img alt="_images/race.png" src="_images/race.png" style="width: 550px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.5 </span><span class="caption-text">Possible first- and second-place finishers.</span><a class="headerlink" href="#race" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>We can extend the logic in this example to the following general rule.</p>
<div class="admonition-general-rule admonition">
<p class="admonition-title">General rule</p>
<p>If we have <span class="math notranslate nohighlight">\(n\)</span> objects, there are <span class="math notranslate nohighlight">\(n! = n \cdot (n-1) \cdot (n-2) \cdots 2 \cdot 1\)</span> ways to order those objects.</p>
</div>
<div class="tip admonition">
<p class="admonition-title">Example: Assigning majors to students.</p>
<p>Suppose we have five majors—-BioE, CS, CE, EE, and MS&amp;E—-and three students—-Alice, Bob, and Claire. How many ways are there to assign majors to these students? The answer is <span class="math notranslate nohighlight">\(5 \cdot 5 \cdot 5\)</span> because there are five ways to assign a major to Alice, five ways to assign a major to Bob, and so on. Unlike the previous example, the major we assign to Alice doesn’t limit the majors we can assign to Bob or Claire (so the answer is <em>not</em> <span class="math notranslate nohighlight">\(5 \cdot 4 \cdot 3\)</span>).</p>
<p>However, suppose we wanted to assign a <em>unique</em> major to each student. There would be <span class="math notranslate nohighlight">\(5 \cdot 4 \cdot 3\)</span> possible ways to do so, since there would be five ways to assign a major to Alice, and once her major has been determined, four ways to assign a different major to Bob, and then finally three ways to assign a major to Claire that is different from Alice and Bob’s.</p>
</div>
<div class="tip admonition">
<p class="admonition-title">Example: The birthday paradox.</p>
<p>This is a famous example (Example 1.4.10 from <span id="id2">[<a class="reference internal" href="bibliography.html#id2" title="Joseph K Blitzstein and Jessica Hwang. Introduction to probability. Chapman and Hall/CRC, 2019.">BH19</a>]</span>) of the multiplication rule. Suppose we have <span class="math notranslate nohighlight">\(k\)</span> people in a room, each of whom is equally likely to be born on any of the 365 days of the year. Our goal is to determine the probability that at least two people in the room share the same birthday. We will work with our naive definition of probability to answer this question, but fortunately in this case, the naive probability will be the true probability!</p>
<p>In this class, I aim to give you a step-by-step guide to solving these types of problems, which will serve you well in the homeworks and exams.</p>
<p><strong>Step 1: Define the events.</strong> To solve this problem, we begin by defining the relevant events:</p>
<ul class="simple">
<li><p>Let <span class="math notranslate nohighlight">\(A\)</span> represent the event that at least one pair has the same birthday.</p></li>
<li><p>Let <span class="math notranslate nohighlight">\(A^c\)</span> represent the complement, which is the event that all <span class="math notranslate nohighlight">\(k\)</span> people have different birthdays.</p></li>
</ul>
<p><strong>Step 2: Define the goal.</strong> Our goal is to calculate the probability <span class="math notranslate nohighlight">\(\mathbb{P}_{\text{naive}}[A]\)</span>, which, as we saw earlier in this chapter, is equal to <span class="math notranslate nohighlight">\(1 - \mathbb{P}_{\text{naive}}[A^c]\)</span>. By definition,</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*}
\mathbb{P}_{\text{naive}}[A^c] &amp;= \frac{\text{# of favorable outcomes}}{\text{# of possible outcomes}}\\
&amp;= \frac{\text{# of ways to assign birthdays so all $k$ people have different birthdays}}{\text{Total # of ways to assign birthdays to $k$ people}}.
\end{align*}\]</div>
<p><strong>Step 3: Calculate the relevant quantities.</strong> Now, we calculate the number of possible outcomes and favorable outcomes:</p>
<ul class="simple">
<li><p><strong>Number of possible outcomes</strong>: Since each person can have any of the 365 days as their birthday, the total number of ways to assign birthdays to <span class="math notranslate nohighlight">\(k\)</span> people is</p></li>
</ul>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}\underbrace{365 \cdot 365 \cdots 365}_{k \text{ times}} = 365^k.\end{equation*}\]</div>
<ul class="simple">
<li><p><strong>Number of favorable outcomes</strong>: To count the favorable outcomes, i.e., the ways in which all <span class="math notranslate nohighlight">\(k\)</span> people have different birthdays, we start by choosing a birthday for the first person (for which we have 365 options), then for the second person (for which we have 364 options, since they can’t have the same birthday as the first), and so on. This results in:</p></li>
</ul>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
365 \cdot 364 \cdot 363 \cdot \cdots \cdot (365 - k + 1).
\end{equation*}\]</div>
<p><strong>Step 4: Compute the final probability.</strong> With these expressions for possible and favorable outcomes, we can now compute <span class="math notranslate nohighlight">\(\mathbb{P}_{\text{naive}}[A^c]\)</span> and <span class="math notranslate nohighlight">\(\mathbb{P}_{\text{naive}}[A]\)</span>:</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
\mathbb{P}_{\text{naive}}[A] = 1 - \mathbb{P}_{\text{naive}}[A^c] = 1 - \frac{365 \cdot 364 \cdot 363 \cdots (365 - k + 1)}{365^k}
\end{equation*}\]</div>
<p>This gives the exact probability that at least one pair shares the same birthday.</p>
<p>For <span class="math notranslate nohighlight">\(k \geq 23\)</span>, the probability there is at least one birthday match is at least <span class="math notranslate nohighlight">\(0.5\)</span>, meaning there is a 50% or higher chance of a shared birthday. Twenty-three is a surprisingly small bound for <span class="math notranslate nohighlight">\(k\)</span>, which is why this example is called a paradox. Intuitively, when <span class="math notranslate nohighlight">\(k = 23\)</span>, there are 253 pairs of individuals, each of which could potentially share a birthday. This large number of pairs makes the likelihood of a birthday match surprisingly high.</p>
</div>
</section>
<section id="adjusting-for-overcounting">
<h3><a class="toc-backref" href="#id10" role="doc-backlink"><span class="section-number">1.4.2. </span>Adjusting for overcounting</a><a class="headerlink" href="#adjusting-for-overcounting" title="Link to this heading">#</a></h3>
<p>Overcounting is a common trap with these types of problems, as the following example illustrates.</p>
<div class="tip admonition">
<p class="admonition-title">Example: Selecting a team.</p>
<p>This is Example 1.4.13 from <span id="id3">[<a class="reference internal" href="bibliography.html#id2" title="Joseph K Blitzstein and Jessica Hwang. Introduction to probability. Chapman and Hall/CRC, 2019.">BH19</a>]</span>.</p>
<p>Suppose we have four people: Alice, Bob, Claire, and David. How many ways are there to choose a two-person team from this set of four? The first thing we might try to answer this question would be to draw the tree diagram in <a class="reference internal" href="#team"><span class="std std-numref">Figure 1.6</span></a>, as we did earlier in this section. However, the answer is <em>not</em> <span class="math notranslate nohighlight">\(4 \cdot 3\)</span>, as this would overcount. For example, our tree diagram includes the teams (Alice, Bob) and (Bob, Alice), but these are the same teams! In fact, there are only six ways to choose a two-person team: (A, B), (A, C), (A, D), (B, C), (B, D), and (C, D).</p>
</div>
<figure class="align-center" id="team">
<a class="reference internal image-reference" href="_images/team.png"><img alt="_images/team.png" src="_images/team.png" style="width: 550px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.6 </span><span class="caption-text">Incorrect tree diagram for choosing a two-person team.</span><a class="headerlink" href="#team" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>This example motivates the following definition.</p>
<div class="admonition-binomial-coefficient admonition">
<p class="admonition-title">Binomial coefficient.</p>
<p>The number of subsets of size <span class="math notranslate nohighlight">\(k\)</span> from a set of size <span class="math notranslate nohighlight">\(n \geq k\)</span> is</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*} {n \choose k} = \frac{ n(n-1)\cdots (n-k+1)}{k!}. \end{equation*}\]</div>
<p><em>Intuition:</em> If we didn’t account for overcounting (as initially in the prior example), the answer would be <span class="math notranslate nohighlight">\(n(n-1)\cdots (n-k+1)\)</span>. The <span class="math notranslate nohighlight">\(k!\)</span> in the denominator fixes the overcounting.</p>
<p>We can write the binomial coefficient more succinctly as follows:</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}{n \choose k} = \frac{n!}{(n-k)! k!}.\end{equation*}\]</div>
</div>
<p>For example, <span class="math notranslate nohighlight">\({4 \choose 2} = \frac{4 \cdot 3 \cdot 2 \cdot 1}{(2 \cdot 1) \cdot (2 \cdot 1)} = 6\)</span>, which was the answer to the preceding example.</p>
<div class="tip admonition">
<p class="admonition-title">Example: Investing in ventures.</p>
<p>You are planning to invest in five of seven ventures, which we’ll call A, B, C, D, E, F, G.</p>
<p><strong>Question:</strong> How many ways are there to choose these five ventures?</p>
<p><strong>Answer:</strong> <span class="math notranslate nohighlight">\({7 \choose 5} = 21\)</span>.</p>
<p>Unbeknownst to you, the ventures {A, B, C, D} will succeed but the ventures {E, F, G} will fail.</p>
<p><strong>Question:</strong> How many ways are there to choose three ventures that will succeed and two ventures that will fail?</p>
<p><strong>Answer:</strong> There are <span class="math notranslate nohighlight">\({4 \choose 3}\)</span> was to choose three successful ventures and <span class="math notranslate nohighlight">\({3 \choose 2}\)</span> ways to choose two ventures that will fail, so the final answer is <span class="math notranslate nohighlight">\({4 \choose 3}\cdot {3 \choose 2} = 12\)</span>.</p>
<p><strong>Question:</strong> Suppose you choose the five ventures you’ll invest in randomly, with all possible choices equally likely. What is the probability that you choose three that succeed and two that fail.</p>
<p><strong>Answer:</strong> We’ll again work through the answer step by step.</p>
<p><em>Step 1: Define the events:</em> Let <span class="math notranslate nohighlight">\(A\)</span> be the event that you choose three ventures that succeed and two that fail.</p>
<p><em>Step 2: Define the goal:</em> We will use the naive definition of probability to compute</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*}\mathbb{P}_{\text{naive}}[A] &amp;= \frac{\text{# favorable outcomes}}{\text{# possible outcomes}}\\
&amp;=  \frac{\text{# ways to choose 3 ventures that succeed and 2 that fail}}{\text{# ways to choose 5 ventures}}.\end{align*}\]</div>
<p><em>Step 3: Compute the final answer:</em> From the previous parts of this example, we know that</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}\mathbb{P}_{\text{naive}}[A] =  \frac{{4 \choose 3} \cdot {3 \choose 2}}{{7 \choose 5}} \approx 0.57.\end{equation*}\]</div>
</div>
<p>In the final example of this section, we’ll introduce a concept called “stars and bars” that you’ll see many times throughout this course. Suppose we have <span class="math notranslate nohighlight">\(k\)</span> <em>indistinguishable</em> coins that we will place into <span class="math notranslate nohighlight">\(n\)</span> <em>distinguishable</em> boxes.</p>
<figure class="align-center" id="boxes">
<a class="reference internal image-reference" href="_images/boxes.png"><img alt="_images/boxes.png" src="_images/boxes.png" style="width: 250px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.7 </span><span class="caption-text">Seven indistinguishable coins distributed among three distinguishable boxes.</span><a class="headerlink" href="#boxes" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>For example, in <a class="reference internal" href="#boxes"><span class="std std-numref">Figure 1.7</span></a>, we have <span class="math notranslate nohighlight">\(k = 7\)</span> coins, which I’ve drawn as stars, and we’ve placed them into <span class="math notranslate nohighlight">\(n = 3\)</span> boxes which we’ve labeled by our friends’ names, Alice, Bob, and Claire. The boxes are distinguishable because they’re labeled by our friends’ names, but the coins/stars are indistinguishable (e.g., they are all shiny pennies).</p>
<p><strong>Question:</strong> How many ways are there to distribute the <span class="math notranslate nohighlight">\(k\)</span> indistinguishable coins among the <span class="math notranslate nohighlight">\(n\)</span> distinguishable boxes?</p>
<p><strong>Answer</strong>: The answer is <span class="math notranslate nohighlight">\({k+n-1 \choose k}\)</span>. To explain, we will adjust <a class="reference internal" href="#boxes"><span class="std std-numref">Figure 1.7</span></a> slightly, so that instead of drawing each box in <a class="reference internal" href="#stars1"><span class="std std-numref">Figure 1.8</span></a>, we will only draw the boundary between boxes, represented by a vertical bar |. Since there are <span class="math notranslate nohighlight">\(n\)</span> boxes, there are <span class="math notranslate nohighlight">\(n-1\)</span> bars representing the boundaries between boxes.</p>
<figure class="align-center" id="stars1">
<a class="reference internal image-reference" href="_images/stars1.png"><img alt="_images/stars1.png" src="_images/stars1.png" style="width: 250px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.8 </span><span class="caption-text">The two vertical bars | represent the boundaries between the three boxes.</span><a class="headerlink" href="#stars1" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Meanwhile, the following figure represents the distribution where we give two coins/stars to Alice, none to Bob, and five to Claire.</p>
<figure class="align-center" id="stars2">
<a class="reference internal image-reference" href="_images/stars2.png"><img alt="_images/stars2.png" src="_images/stars2.png" style="width: 250px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.9 </span><span class="caption-text">Another distribution of the coins/stars among the three boxes.</span><a class="headerlink" href="#stars2" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>In the following figure, I replaced the stars and bars with <span class="math notranslate nohighlight">\(k+n-1\)</span> fill-in-the-blank slots.</p>
<figure class="align-center" id="fill-in-the-blank">
<a class="reference internal image-reference" href="_images/fill_in_the_blank.png"><img alt="_images/fill_in_the_blank.png" src="_images/fill_in_the_blank.png" style="width: 250px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.10 </span><span class="caption-text"><span class="math notranslate nohighlight">\(k+n-1\)</span> fill-in-the-blank slots.</span><a class="headerlink" href="#fill-in-the-blank" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>In both <a class="reference internal" href="#stars1"><span class="std std-numref">Figure 1.8</span></a> and <a class="reference internal" href="#stars2"><span class="std std-numref">Figure 1.9</span></a>, we’ve filled in these fill-in-the-blank slots with exactly <span class="math notranslate nohighlight">\(k\)</span> stars and <span class="math notranslate nohighlight">\(n-1\)</span> bars. In fact, every possible distribution of the <span class="math notranslate nohighlight">\(k\)</span> coins/stars into the <span class="math notranslate nohighlight">\(n\)</span> boxes can be represented by filling exactly <span class="math notranslate nohighlight">\(k\)</span> of these fill-in-the-blank slots with <span class="math notranslate nohighlight">\(k\)</span> stars, and filling the rest with bars. We know that the number of ways to choose these <span class="math notranslate nohighlight">\(k\)</span> fill-in-the-blank slots is <span class="math notranslate nohighlight">\({k+n-1 \choose k}\)</span>, which is how we got the final answer.</p>
</section>
</section>
<section id="non-naive-definition-of-probability">
<h2><a class="toc-backref" href="#id11" role="doc-backlink"><span class="section-number">1.5. </span>Non-naive definition of probability</a><a class="headerlink" href="#non-naive-definition-of-probability" title="Link to this heading">#</a></h2>
<p>Now that we have developed our intuition by working with the naive definition of probability, we are ready to move on to the non-naive definition:</p>
<div class="admonition-probability-space admonition">
<p class="admonition-title">Probability space.</p>
<p>A <strong>probability space</strong> consists of the following two components:</p>
<ol class="arabic">
<li><p><strong>Sample space (<span class="math notranslate nohighlight">\(S\)</span>)</strong>: As we know by now, <span class="math notranslate nohighlight">\(S\)</span> is the set of all possible outcomes. For instance, when flipping two coins, the sample space is <span class="math notranslate nohighlight">\(S = \{HH, HT, TH, TT\}\)</span>, where each pair represents a combination of heads and tails.</p></li>
<li><p><strong>Probability function (<span class="math notranslate nohighlight">\(\mathbb{P}\)</span>)</strong>: This function assigns probabilities to events, which, as we’ve seen, are subsets of the sample space. For any event <span class="math notranslate nohighlight">\(A \subseteq S\)</span>, the probability of <span class="math notranslate nohighlight">\(A\)</span>, denoted <span class="math notranslate nohighlight">\(\mathbb{P}[A]\)</span>, satisfies the following <em>axioms</em>:</p>
<ul class="simple">
<li><p>For any event, <span class="math notranslate nohighlight">\(0 \leq \mathbb{P}[A] \leq 1 \)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\( \mathbb{P}[\emptyset] = 0 \)</span> and <span class="math notranslate nohighlight">\( \mathbb{P}[S] = 1 \)</span>. In our coin-flipping example, the probability of no outcome is zero, and the probability of some outcome in <span class="math notranslate nohighlight">\(S = \{HH, HT, TH, TT\}\)</span> occurring is one.</p></li>
<li><p>If <span class="math notranslate nohighlight">\( A_1, A_2, \dots, A_n \)</span> are disjoint events (i.e., <span class="math notranslate nohighlight">\( A_i \cap A_j = \emptyset \)</span> for all <span class="math notranslate nohighlight">\( i \neq j \)</span>), the probability of their union is the sum of their individual probabilities:</p></li>
</ul>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
\mathbb{P}[A_1 \cup A_2 \cup \cdots \cup A_n] = \sum_{j=1}^n \mathbb{P}[A_j].
\end{equation*}\]</div>
<p>For example, if a baseball player is at bat and the events are hitting a single (<span class="math notranslate nohighlight">\( H_S \)</span>) or hitting a double (<span class="math notranslate nohighlight">\( H_D \)</span>), with probabilities <span class="math notranslate nohighlight">\( \mathbb{P}[H_S] = 0.2 \)</span> and <span class="math notranslate nohighlight">\( \mathbb{P}[H_D] = 0.05 \)</span>, then the probability of either hitting a single or a double is <span class="math notranslate nohighlight">\( \mathbb{P}[H_S \cup H_D] = 0.25 \)</span>.</p>
</li>
</ol>
</div>
<p>From these axioms, we can derive several helpful rules and properties.</p>
<ul class="simple">
<li><p><strong>Complement Rule</strong>: The probability of the complement of an event <span class="math notranslate nohighlight">\( A \)</span>, denoted <span class="math notranslate nohighlight">\( A^c \)</span>, is</p></li>
</ul>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
\mathbb{P}[A^c] = 1 - \mathbb{P}[A].
\end{equation*}\]</div>
<p>For instance, if the probability of a baseball player hitting a single is <span class="math notranslate nohighlight">\( \mathbb{P}[H_S] = 0.2 \)</span>, the probability of not hitting a single is <span class="math notranslate nohighlight">\( \mathbb{P}[H_S^c] = 0.8 \)</span>.</p>
<ul class="simple">
<li><p><strong>Union of Two Events</strong>: For any two events <span class="math notranslate nohighlight">\( A \)</span> and <span class="math notranslate nohighlight">\( B \)</span>, the probability of their union is:</p></li>
</ul>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
\mathbb{P}[A \cup B] = \mathbb{P}[A] + \mathbb{P}[B] - \mathbb{P}[A \cap B].
\end{equation*}\]</div>
<p>For example, if <span class="math notranslate nohighlight">\( A \)</span> is the event of being chosen for the varsity soccer team and <span class="math notranslate nohighlight">\( B \)</span> is the event of being chosen for the varsity football team, the probability of being chosen for either is <span class="math notranslate nohighlight">\(\mathbb{P}[\text{soccer or football}] = \mathbb{P}[\text{soccer}] + \mathbb{P}[\text{football}] - \mathbb{P}[\text{soccer and football}]\)</span>. See <a class="reference internal" href="#a-union-b"><span class="std std-numref">Figure 1.11</span></a> for an illustration.</p>
<figure class="align-center" id="a-union-b">
<a class="reference internal image-reference" href="_images/a_union_b.png"><img alt="_images/a_union_b.png" src="_images/a_union_b.png" style="width: 550px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.11 </span><span class="caption-text">Illustration of <span class="math notranslate nohighlight">\(\mathbb{P}[A\cup B]\)</span>. The numbers count how many times we have added or subtracted each set in the ven diagram.</span><a class="headerlink" href="#a-union-b" title="Link to this image">#</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p><strong>Union of Three Events</strong>: The probability of the union of three events is:</p></li>
</ul>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
\mathbb{P}[A \cup B \cup C] = \mathbb{P}[A] + \mathbb{P}[B] + \mathbb{P}[C] - \mathbb{P}[A \cap B] - \mathbb{P}[A \cap C] - \mathbb{P}[B \cap C] + \mathbb{P}[A \cap B \cap C].
\end{equation*}\]</div>
<p>See <a class="reference internal" href="#a-union-b-union-c"><span class="std std-numref">Figure 1.12</span></a> for an illustration.</p>
<figure class="align-center" id="a-union-b-union-c">
<a class="reference internal image-reference" href="_images/a_union_b_union_c.png"><img alt="_images/a_union_b_union_c.png" src="_images/a_union_b_union_c.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.12 </span><span class="caption-text">Illustration of <span class="math notranslate nohighlight">\(\mathbb{P}[A\cup B \cup C]\)</span>. The numbers count how many times we have added or subtracted each set in the ven diagram.</span><a class="headerlink" href="#a-union-b-union-c" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>This formula generalizes for larger unions using the <strong>inclusion-exclusion rule:</strong></p>
<div class="math notranslate nohighlight" id="equation-my-label">
<span class="eqno">(1.1)<a class="headerlink" href="#equation-my-label" title="Link to this equation">#</a></span>\[\begin{split}&amp;\mathbb{P}\left[\bigcup_{i = 1}^n A_i\right]\\
=\, &amp;\sum_{i = 1}^n \mathbb{P}[A_i] - \sum_{i &lt; j}\mathbb{P}[A_i \cap A_j] + \sum_{i &lt; j &lt; k} \mathbb{P}[A_i \cap A_j \cap A_k] - \cdots + (-1)^{n+1}\mathbb{P}[A_1 \cap \cdots \cap A_n].\end{split}\]</div>
<p>The notation <span class="math notranslate nohighlight">\(\sum_{i &lt; j &lt; k}\)</span> means that we are summing over all indices <span class="math notranslate nohighlight">\(i,j,k\in \{1, \dots, n\}\)</span> such that <span class="math notranslate nohighlight">\(i &lt; j &lt; k\)</span>, of which there are <span class="math notranslate nohighlight">\({n \choose 3}\)</span>.</p>
<figure class="align-center" id="winning">
<a class="reference internal image-reference" href="_images/winning.png"><img alt="_images/winning.png" src="_images/winning.png" style="width: 200px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.13 </span><span class="caption-text">Example of a winning order in Montmort’s matching game.</span><a class="headerlink" href="#winning" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-center" id="non-winning">
<a class="reference internal image-reference" href="_images/non_winning.png"><img alt="_images/non_winning.png" src="_images/non_winning.png" style="width: 200px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.14 </span><span class="caption-text">Example of a losing order in Montmort’s matching game.</span><a class="headerlink" href="#non-winning" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="tip admonition">
<p class="admonition-title">Example: de Montmort’s matching game.</p>
<p>This is Example 1.6.4 from <span id="id4">[<a class="reference internal" href="bibliography.html#id2" title="Joseph K Blitzstein and Jessica Hwang. Introduction to probability. Chapman and Hall/CRC, 2019.">BH19</a>]</span>.</p>
<p>This example is a bit involved, but I think it’s a great example because it ties together everything we’ve learned so far in class. I encourage you to work through it slowly!</p>
<p>Suppose you have a deck of <span class="math notranslate nohighlight">\(n\)</span> cards, with each card labeled <span class="math notranslate nohighlight">\(1\)</span> through <span class="math notranslate nohighlight">\(n\)</span>. You flip the cards over one by one, saying the numbers “1”, “2”, “3”, <span class="math notranslate nohighlight">\(\dots\)</span> as you do so. You “win” if, at some point, the number you say aloud is the same as the number written on the card. See <a class="reference internal" href="#winning"><span class="std std-numref">Figure 1.13</span></a> for an order that will cause you to win and <a class="reference internal" href="#non-winning"><span class="std std-numref">Figure 1.14</span></a> for an order that will cause you to lose.</p>
<p><strong>Question</strong> Let <span class="math notranslate nohighlight">\(A\)</span> be the event that you win. What is <span class="math notranslate nohighlight">\(\mathbb{P}[A]\)</span>?</p>
<p>We will work through the solution step by step.</p>
<p><strong>Step 1: Define the events</strong></p>
<p>Let <span class="math notranslate nohighlight">\(A_j\)</span> be the event that the <span class="math notranslate nohighlight">\(j^{th}\)</span> card in the deck is labeled <span class="math notranslate nohighlight">\(j\)</span>. Notice that <span class="math notranslate nohighlight">\(A\)</span> is the event that <span class="math notranslate nohighlight">\(A_1\)</span> happens, or <span class="math notranslate nohighlight">\(A_2\)</span> happens, or <span class="math notranslate nohighlight">\(A_3\)</span> happens, and so on. In other words, <span class="math notranslate nohighlight">\(A = A_1 \cup A_2 \cup \cdots \cup A_n\)</span>.</p>
<p><strong>Step 2: Define the goal</strong></p>
<p>Our goal will be to compute <span class="math notranslate nohighlight">\(\mathbb{P}[A] = \mathbb{P}[A_1 \cup A_2 \cup \cdots \cup A_n]\)</span> using the inclusion-exclusion principal from Equation <a class="reference internal" href="#equation-my-label">(1.1)</a>.</p>
<p><strong>Step 3: Compute the individual probabilities</strong></p>
<p>This is the most involved step: we need to compute each of the individual probabilities from Equation <a class="reference internal" href="#equation-my-label">(1.1)</a>.</p>
<p>Let’s start with <span class="math notranslate nohighlight">\(\mathbb{P}[A_j]\)</span>, for an arbitrary <span class="math notranslate nohighlight">\(j \in \{1, 2, \dots, n\}\)</span>. Since the deck is perfectly shuffled, all <span class="math notranslate nohighlight">\(n\)</span> positions are equally likely for the card labeled <span class="math notranslate nohighlight">\(j\)</span>. Therefore, <span class="math notranslate nohighlight">\(\mathbb{P}[A_j] = \frac{1}{n}.\)</span></p>
<p>Next, we compute <span class="math notranslate nohighlight">\(\mathbb{P}[A_1 \cap A_2]\)</span>. This is the event that the first card in the deck is labeled 1, and the second card in the deck is labeled 2. Since all orderings of the deck are equally likely, we know that</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}

\mathbb{P}[A_1 \cap A_2] = \frac{\text{# orderings where $1^{st}$ card is labeled 1 and $2^{nd}$ card is labeled 2}}{\text{# possible orderings}}.

\end{equation*}\]</div>
<p>Starting with the denominator, we know that the number of possible orderings is <span class="math notranslate nohighlight">\(n!\)</span>, as we saw earlier in this chapter. Next, the numerator is equal to <span class="math notranslate nohighlight">\((n-2)!\)</span>. This is because we know the first card is labeled 1 and the second card is labeled 2, which leaves <span class="math notranslate nohighlight">\(n-2\)</span> remaining cards. There are <span class="math notranslate nohighlight">\((n-2)!\)</span> ways to order them. Therefore,</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}

\mathbb{P}[A_1 \cap A_2]  = \frac{(n-2)!}{n!} = \frac{(n-2)\cdot(n-3)\cdots 3 \cdot 2 \cdot 1}{n \cdot (n-1) \cdot (n-2)\cdot(n-3)\cdots 3 \cdot 2 \cdot 1} = \frac{1}{n\cdot (n-1)}.

\end{equation*}\]</div>
<p>Similarly, <span class="math notranslate nohighlight">\(\mathbb{P}[A_i \cap A_j] = \frac{1}{n\cdot (n-1)}\)</span> for all <span class="math notranslate nohighlight">\(i \not= j\)</span>. Note that there are <span class="math notranslate nohighlight">\({n \choose 2}\)</span> of these pair-wise intersections summed in Equation <a class="reference internal" href="#equation-my-label">(1.1)</a>.</p>
<p>Generalizing this logic, we can see that for any intersection of <span class="math notranslate nohighlight">\(k\)</span> of these events, say <span class="math notranslate nohighlight">\(A_1 \cap A_2 \cap \cdots \cap A_k\)</span>,</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}

\mathbb{P}[A_1 \cap \cdots \cap A_k] = \frac{(n-k)!}{n!}.

\end{equation*}\]</div>
<p>There are <span class="math notranslate nohighlight">\({n \choose k}\)</span> of these <span class="math notranslate nohighlight">\(k\)</span>-wise intersections summed in Equation <a class="reference internal" href="#equation-my-label">(1.1)</a>.</p>
<p><strong>Step 4: Plug in to compute the final answer.</strong></p>
<p>Finally, we get that</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*}\mathbb{P}[A] &amp;= n\cdot \frac{1}{n} - {n \choose 2}\cdot \frac{(n-2)!}{n!} + {n \choose 3} \cdot \frac{(n-3)!}{n!} - \cdots\\
		&amp;= n \cdot \frac{1}{n} - \frac{n!}{(n-2)! 2!}\cdot \frac{(n-2)!}{n!} + \frac{n!}{(n-3)! 3!}\cdot \frac{(n-3)!}{n!} - \cdots\\
		&amp;= 1 - \frac{1}{2!} + \frac{1}{3!} - \cdots

\end{align*}\]</div>
<p>It turns out that by a Taylor expansion, <span class="math notranslate nohighlight">\(1 - \frac{1}{2!} + \frac{1}{3!} - \cdots \approx 1 - \frac{1}{e}\)</span> (don’t worry, I don’t expect you to remember Taylor expansions for this class), so <span class="math notranslate nohighlight">\(\mathbb{P}[A] \approx 1 - \frac{1}{e}\)</span>. Surprisingly, this answer doesn’t depend on the number of cards <span class="math notranslate nohighlight">\(n\)</span>. Intuitively, this is because as <span class="math notranslate nohighlight">\(n\)</span> grows, we have more possible matching locations but a lower probability that any one match occurs. Ultimately, this tradeoff ends up canceling out to get a final probability of <span class="math notranslate nohighlight">\(1 - \frac{1}{e}\)</span>, independent of <span class="math notranslate nohighlight">\(n\)</span>.</p>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Stanford MS&amp;E 120: Intro to Probability</p>
      </div>
    </a>
    <a class="right-next"
       href="chapter2.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">2. </span>Conditional probability</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sets">1.1. Sets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-spaces-and-events">1.2. Sample spaces and events</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-naive-definition-of-probability">1.3. A naive definition of probability</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#counting">1.4. Counting</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#multiplication-rule">1.4.1. Multiplication rule</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adjusting-for-overcounting">1.4.2. Adjusting for overcounting</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#non-naive-definition-of-probability">1.5. Non-naive definition of probability</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Ellen Vitercik
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>